{"ast":null,"code":"var _jsxFileName = \"/Users/yusukekageyama/memoboard-app/frontend/src/components/Login.tsx\",\n  _s = $RefreshSig$();\n// src/components/Login.tsx\n\nimport React from 'react';\nimport { useFormik } from 'formik';\nimport * as Yup from 'yup';\nimport axios from '../services/api';\nimport '../styles/Login.css';\n\n// レスポンスデータの型定義\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  const formik = useFormik({\n    initialValues: {\n      email: '',\n      password: '',\n      rememberMe: false\n    },\n    validationSchema: Yup.object({\n      email: Yup.string().email('有効なメールアドレスを入力してください').required('必須項目です'),\n      password: Yup.string().required('必須項目です')\n    }),\n    onSubmit: async (values, {\n      resetForm\n    }) => {\n      try {\n        // 型パラメータを指定して axios リクエストを実行\n        const response = await axios.post('/api/v1/users/sign_in', {\n          user: {\n            email: values.email,\n            password: values.password\n          }\n        });\n\n        // 型アサーションで response.data を使用\n        const token = response.data.token || response.headers['authorization'];\n        if (token) {\n          const formattedToken = token.startsWith('Bearer ') ? token : `Bearer ${token}`;\n          localStorage.setItem('token', formattedToken);\n          alert('ログインしました。');\n          resetForm();\n          // 必要に応じてリダイレクト処理を追加\n          // window.location.href = '/profile';\n        } else {\n          alert('認証トークンが見つかりませんでした。');\n        }\n      } catch (error) {\n        // error.response に any 型を使用してアクセス\n        console.error('ログインエラー:', error.response ? error.response.data : error);\n        if (error.response && error.response.data && error.response.data.error) {\n          alert(`ログインに失敗しました: ${error.response.data.error}`);\n        } else {\n          alert('ログインに失敗しました。');\n        }\n      }\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: formik.handleSubmit,\n    className: \"login-form-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"form-title\",\n      children: \"\\u30ED\\u30B0\\u30A4\\u30F3\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"email\",\n        className: \"form-label\",\n        children: \"\\u30E1\\u30FC\\u30EB\\u30A2\\u30C9\\u30EC\\u30B9\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"email\",\n        name: \"email\",\n        type: \"email\",\n        onChange: formik.handleChange,\n        onBlur: formik.handleBlur,\n        value: formik.values.email,\n        className: \"form-field\",\n        placeholder: \"\\u4F8B: johndoe@example.com\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), formik.touched.email && formik.errors.email ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-message\",\n        children: formik.errors.email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"password\",\n        className: \"form-label\",\n        children: \"\\u30D1\\u30B9\\u30EF\\u30FC\\u30C9\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"password\",\n        name: \"password\",\n        type: \"password\",\n        onChange: formik.handleChange,\n        onBlur: formik.handleBlur,\n        value: formik.values.password,\n        className: \"form-field\",\n        placeholder: \"\\u30D1\\u30B9\\u30EF\\u30FC\\u30C9\\u3092\\u5165\\u529B\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this), formik.touched.password && formik.errors.password ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-message\",\n        children: formik.errors.password\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 11\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4 flex items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"rememberMe\",\n        name: \"rememberMe\",\n        type: \"checkbox\",\n        onChange: formik.handleChange,\n        onBlur: formik.handleBlur,\n        checked: formik.values.rememberMe,\n        className: \"form-checkbox\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"rememberMe\",\n        className: \"ml-2 text-sm text-gray-600\",\n        children: \"\\u30ED\\u30B0\\u30A4\\u30F3\\u72B6\\u614B\\u3092\\u4FDD\\u6301\\u3059\\u308B\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      className: \"submit-button\",\n      children: \"\\u30ED\\u30B0\\u30A4\\u30F3\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n};\n_s(Login, \"B/4rI4IXClQ7sG7psKj+pOuRe5Q=\", false, function () {\n  return [useFormik];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useFormik","Yup","axios","jsxDEV","_jsxDEV","Login","_s","formik","initialValues","email","password","rememberMe","validationSchema","object","string","required","onSubmit","values","resetForm","response","post","user","token","data","headers","formattedToken","startsWith","localStorage","setItem","alert","error","console","handleSubmit","className","children","fileName","_jsxFileName","lineNumber","columnNumber","htmlFor","id","name","type","onChange","handleChange","onBlur","handleBlur","value","placeholder","touched","errors","checked","_c","$RefreshReg$"],"sources":["/Users/yusukekageyama/memoboard-app/frontend/src/components/Login.tsx"],"sourcesContent":["// src/components/Login.tsx\n\nimport React from 'react';\nimport { useFormik } from 'formik';\nimport * as Yup from 'yup';\nimport axios from '../services/api';\nimport '../styles/Login.css';\n\n// レスポンスデータの型定義\ninterface LoginResponse {\n  token?: string;\n}\n\nconst Login: React.FC = () => {\n  const formik = useFormik({\n    initialValues: {\n      email: '',\n      password: '',\n      rememberMe: false,\n    },\n    validationSchema: Yup.object({\n      email: Yup.string()\n        .email('有効なメールアドレスを入力してください')\n        .required('必須項目です'),\n      password: Yup.string().required('必須項目です'),\n    }),\n    onSubmit: async (values, { resetForm }) => {\n      try {\n        // 型パラメータを指定して axios リクエストを実行\n        const response = await axios.post<LoginResponse>('/api/v1/users/sign_in', {\n          user: {\n            email: values.email,\n            password: values.password,\n          },\n        });\n\n        // 型アサーションで response.data を使用\n        const token = response.data.token || response.headers['authorization'];\n        if (token) {\n          const formattedToken = token.startsWith('Bearer ')\n            ? token\n            : `Bearer ${token}`;\n          localStorage.setItem('token', formattedToken);\n          alert('ログインしました。');\n          resetForm();\n          // 必要に応じてリダイレクト処理を追加\n          // window.location.href = '/profile';\n        } else {\n          alert('認証トークンが見つかりませんでした。');\n        }\n      } catch (error: any) {\n        // error.response に any 型を使用してアクセス\n        console.error(\n          'ログインエラー:',\n          error.response ? error.response.data : error\n        );\n        if (\n          error.response &&\n          error.response.data &&\n          error.response.data.error\n        ) {\n          alert(`ログインに失敗しました: ${error.response.data.error}`);\n        } else {\n          alert('ログインに失敗しました。');\n        }\n      }\n    },\n  });\n\n  return (\n    <form onSubmit={formik.handleSubmit} className=\"login-form-container\">\n      <h2 className=\"form-title\">ログイン</h2>\n\n      <div className=\"mb-4\">\n        <label htmlFor=\"email\" className=\"form-label\">\n          メールアドレス\n        </label>\n        <input\n          id=\"email\"\n          name=\"email\"\n          type=\"email\"\n          onChange={formik.handleChange}\n          onBlur={formik.handleBlur}\n          value={formik.values.email}\n          className=\"form-field\"\n          placeholder=\"例: johndoe@example.com\"\n        />\n        {formik.touched.email && formik.errors.email ? (\n          <div className=\"error-message\">{formik.errors.email}</div>\n        ) : null}\n      </div>\n\n      <div className=\"mb-4\">\n        <label htmlFor=\"password\" className=\"form-label\">\n          パスワード\n        </label>\n        <input\n          id=\"password\"\n          name=\"password\"\n          type=\"password\"\n          onChange={formik.handleChange}\n          onBlur={formik.handleBlur}\n          value={formik.values.password}\n          className=\"form-field\"\n          placeholder=\"パスワードを入力\"\n        />\n        {formik.touched.password && formik.errors.password ? (\n          <div className=\"error-message\">{formik.errors.password}</div>\n        ) : null}\n      </div>\n\n      <div className=\"mb-4 flex items-center\">\n        <input\n          id=\"rememberMe\"\n          name=\"rememberMe\"\n          type=\"checkbox\"\n          onChange={formik.handleChange}\n          onBlur={formik.handleBlur}\n          checked={formik.values.rememberMe}\n          className=\"form-checkbox\"\n        />\n        <label htmlFor=\"rememberMe\" className=\"ml-2 text-sm text-gray-600\">\n          ログイン状態を保持する\n        </label>\n      </div>\n\n      <button type=\"submit\" className=\"submit-button\">\n        ログイン\n      </button>\n    </form>\n  );\n};\n\nexport default Login;"],"mappings":";;AAAA;;AAEA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,QAAQ,QAAQ;AAClC,OAAO,KAAKC,GAAG,MAAM,KAAK;AAC1B,OAAOC,KAAK,MAAM,iBAAiB;AACnC,OAAO,qBAAqB;;AAE5B;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAKA,MAAMC,KAAe,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC5B,MAAMC,MAAM,GAAGP,SAAS,CAAC;IACvBQ,aAAa,EAAE;MACbC,KAAK,EAAE,EAAE;MACTC,QAAQ,EAAE,EAAE;MACZC,UAAU,EAAE;IACd,CAAC;IACDC,gBAAgB,EAAEX,GAAG,CAACY,MAAM,CAAC;MAC3BJ,KAAK,EAAER,GAAG,CAACa,MAAM,CAAC,CAAC,CAChBL,KAAK,CAAC,qBAAqB,CAAC,CAC5BM,QAAQ,CAAC,QAAQ,CAAC;MACrBL,QAAQ,EAAET,GAAG,CAACa,MAAM,CAAC,CAAC,CAACC,QAAQ,CAAC,QAAQ;IAC1C,CAAC,CAAC;IACFC,QAAQ,EAAE,MAAAA,CAAOC,MAAM,EAAE;MAAEC;IAAU,CAAC,KAAK;MACzC,IAAI;QACF;QACA,MAAMC,QAAQ,GAAG,MAAMjB,KAAK,CAACkB,IAAI,CAAgB,uBAAuB,EAAE;UACxEC,IAAI,EAAE;YACJZ,KAAK,EAAEQ,MAAM,CAACR,KAAK;YACnBC,QAAQ,EAAEO,MAAM,CAACP;UACnB;QACF,CAAC,CAAC;;QAEF;QACA,MAAMY,KAAK,GAAGH,QAAQ,CAACI,IAAI,CAACD,KAAK,IAAIH,QAAQ,CAACK,OAAO,CAAC,eAAe,CAAC;QACtE,IAAIF,KAAK,EAAE;UACT,MAAMG,cAAc,GAAGH,KAAK,CAACI,UAAU,CAAC,SAAS,CAAC,GAC9CJ,KAAK,GACL,UAAUA,KAAK,EAAE;UACrBK,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEH,cAAc,CAAC;UAC7CI,KAAK,CAAC,WAAW,CAAC;UAClBX,SAAS,CAAC,CAAC;UACX;UACA;QACF,CAAC,MAAM;UACLW,KAAK,CAAC,oBAAoB,CAAC;QAC7B;MACF,CAAC,CAAC,OAAOC,KAAU,EAAE;QACnB;QACAC,OAAO,CAACD,KAAK,CACX,UAAU,EACVA,KAAK,CAACX,QAAQ,GAAGW,KAAK,CAACX,QAAQ,CAACI,IAAI,GAAGO,KACzC,CAAC;QACD,IACEA,KAAK,CAACX,QAAQ,IACdW,KAAK,CAACX,QAAQ,CAACI,IAAI,IACnBO,KAAK,CAACX,QAAQ,CAACI,IAAI,CAACO,KAAK,EACzB;UACAD,KAAK,CAAC,gBAAgBC,KAAK,CAACX,QAAQ,CAACI,IAAI,CAACO,KAAK,EAAE,CAAC;QACpD,CAAC,MAAM;UACLD,KAAK,CAAC,cAAc,CAAC;QACvB;MACF;IACF;EACF,CAAC,CAAC;EAEF,oBACEzB,OAAA;IAAMY,QAAQ,EAAET,MAAM,CAACyB,YAAa;IAACC,SAAS,EAAC,sBAAsB;IAAAC,QAAA,gBACnE9B,OAAA;MAAI6B,SAAS,EAAC,YAAY;MAAAC,QAAA,EAAC;IAAI;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAEpClC,OAAA;MAAK6B,SAAS,EAAC,MAAM;MAAAC,QAAA,gBACnB9B,OAAA;QAAOmC,OAAO,EAAC,OAAO;QAACN,SAAS,EAAC,YAAY;QAAAC,QAAA,EAAC;MAE9C;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC,eACRlC,OAAA;QACEoC,EAAE,EAAC,OAAO;QACVC,IAAI,EAAC,OAAO;QACZC,IAAI,EAAC,OAAO;QACZC,QAAQ,EAAEpC,MAAM,CAACqC,YAAa;QAC9BC,MAAM,EAAEtC,MAAM,CAACuC,UAAW;QAC1BC,KAAK,EAAExC,MAAM,CAACU,MAAM,CAACR,KAAM;QAC3BwB,SAAS,EAAC,YAAY;QACtBe,WAAW,EAAC;MAAwB;QAAAb,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACrC,CAAC,EACD/B,MAAM,CAAC0C,OAAO,CAACxC,KAAK,IAAIF,MAAM,CAAC2C,MAAM,CAACzC,KAAK,gBAC1CL,OAAA;QAAK6B,SAAS,EAAC,eAAe;QAAAC,QAAA,EAAE3B,MAAM,CAAC2C,MAAM,CAACzC;MAAK;QAAA0B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,GACxD,IAAI;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC,eAENlC,OAAA;MAAK6B,SAAS,EAAC,MAAM;MAAAC,QAAA,gBACnB9B,OAAA;QAAOmC,OAAO,EAAC,UAAU;QAACN,SAAS,EAAC,YAAY;QAAAC,QAAA,EAAC;MAEjD;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC,eACRlC,OAAA;QACEoC,EAAE,EAAC,UAAU;QACbC,IAAI,EAAC,UAAU;QACfC,IAAI,EAAC,UAAU;QACfC,QAAQ,EAAEpC,MAAM,CAACqC,YAAa;QAC9BC,MAAM,EAAEtC,MAAM,CAACuC,UAAW;QAC1BC,KAAK,EAAExC,MAAM,CAACU,MAAM,CAACP,QAAS;QAC9BuB,SAAS,EAAC,YAAY;QACtBe,WAAW,EAAC;MAAU;QAAAb,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACvB,CAAC,EACD/B,MAAM,CAAC0C,OAAO,CAACvC,QAAQ,IAAIH,MAAM,CAAC2C,MAAM,CAACxC,QAAQ,gBAChDN,OAAA;QAAK6B,SAAS,EAAC,eAAe;QAAAC,QAAA,EAAE3B,MAAM,CAAC2C,MAAM,CAACxC;MAAQ;QAAAyB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,GAC3D,IAAI;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC,eAENlC,OAAA;MAAK6B,SAAS,EAAC,wBAAwB;MAAAC,QAAA,gBACrC9B,OAAA;QACEoC,EAAE,EAAC,YAAY;QACfC,IAAI,EAAC,YAAY;QACjBC,IAAI,EAAC,UAAU;QACfC,QAAQ,EAAEpC,MAAM,CAACqC,YAAa;QAC9BC,MAAM,EAAEtC,MAAM,CAACuC,UAAW;QAC1BK,OAAO,EAAE5C,MAAM,CAACU,MAAM,CAACN,UAAW;QAClCsB,SAAS,EAAC;MAAe;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC1B,CAAC,eACFlC,OAAA;QAAOmC,OAAO,EAAC,YAAY;QAACN,SAAS,EAAC,4BAA4B;QAAAC,QAAA,EAAC;MAEnE;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC,eAENlC,OAAA;MAAQsC,IAAI,EAAC,QAAQ;MAACT,SAAS,EAAC,eAAe;MAAAC,QAAA,EAAC;IAEhD;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACL,CAAC;AAEX,CAAC;AAAChC,EAAA,CAtHID,KAAe;EAAA,QACJL,SAAS;AAAA;AAAAoD,EAAA,GADpB/C,KAAe;AAwHrB,eAAeA,KAAK;AAAC,IAAA+C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}